<!DOCTYPE html>
<html lang="en">
<script defer src="/js/productEditValidator.js" type="text/javascript"></script>
<!--Acá va el head-->
<%- include ("partials/head.ejs") %>

  <body class="body">
    <!--Acá va el header-->
    <%- include ("partials/header.ejs") %>
      <main id="main-content">
        <section class="padding-24">
          <div>
            <form id="editForm" class="register-form" action="/products/<%= product.id %>?_method=PUT" method="POST"
              enctype="multipart/form-data">
              <div>
                <P>
                  EDITAR PRODUCTO 
                 </P> 
                  <h2>
                    <%=product.name %>
                  </h2>
              <ul id="errores" class="hidden"></ul>
              </div>

              <div class="form-input">
                <label class="main-label" for="name"></label>
                <input id="editName" class="" type="text" name="name" placeholder="Nombre del producto"
                  value="<%=product.name%>" />
                <% if (locals.errors && errors.name) { %>
                  <div>
                    <%= errors.name.msg %>
                  </div>
                  <% } %>
              </div>
              <div class="form-input">
                <label class="main-label" for="price"></label>
                <input id="editPrice" class="" type="number" step="0.01" name="price"
                  placeholder="Precio del producto: $12.99" value="<%=product.price%>" />
              </div>
              <div class="form-input">
                <label class="main-label" for="description"></label>
                <input id="editDescription" class="" type="text" name="description" placeholder="Descripcion"
                  value="<%=product.description%>" />
                <% if (locals.errors && errors.description) { %>
                  <div>
                    <%= errors.description.msg %>
                  </div>
                  <% } %>
              </div>
              <div class="form-input">
                <label class="main-label" for="image"></label>
                 
                <input class="" type="file" name="image" placeholder="Foto del producto" accept="image/*" />
                <% if (locals.errors && errors.image) { %>
                  <div>
                    <%= errors.image.msg %>
                  </div>
                  <% } %>
                  <div style=" max-width: 400px;">
                <img src="/images/product-images/<%= product.image %>" alt="" class="flex" style="width: 100%; object-fit: cover; "/>
              </div> 
              </div>
              <div class="form-input">
                <label class="main-label" for="stock"></label>
                <select id="editStock" class="w-100" type="text" name="stock" placeholder="Stock">
                  <option value="" disabled selected>
                    Stock
                  </option>
                  <option value="1" <%=product.stock=="1" ? "selected" : "" %>>1</option>
                  <option value="2" <%=product.stock=="2" ? "selected" : "" %>>2</option>
                  <option value="3" <%=product.stock=="3" ? "selected" : "" %>>3</option>
                  <option value="4" <%=product.stock=="4" ? "selected" : "" %>>4</option>
                  <option value="5" <%=product.stock=="5" ? "selected" : "" %>>5</option>
                  <option value="6" <%=product.stock=="6" ? "selected" : "" %>>6</option>
                  <option value="7" <%=product.stock=="7" ? "selected" : "" %>>7</option>
                  <option value="8" <%=product.stock=="8" ? "selected" : "" %>>8</option>
                  <option value="9" <%=product.stock=="9" ? "selected" : "" %>>9</option>
                  <option value="10" <%=product.stock=="10" ? "selected" : "" %>>10</option>
                </select>
              </div>
              <div class="form-input">
                <label class="main-label" for="category"></label>
                <select id="editCategory" class="w-100" type="text" name="category" placeholder="Categoria">
                  <option value="" disabled selected>
                    Categoría
                  </option>

                  <option value="Belleza" <%=product.category=="Belleza" ? "selected" : "" %>>Belleza
                  </option>
                  <option value="Higiene" <%=product.category=="Higiene" ? "selected" : "" %>>Higiene
                  </option>
                  <option value="Fitoterapia" <%=product.category=="Fitoterapia" ? "selected" : "" %>>Fitoterapia
                  </option>

                </select>
              </div>

              <div class="form-input">
                <label class="main-label" for="destacado"></label>
                <select id="editDestacado" class="w-100" type="text" name="destacado" placeholder="Destacado">
                  <option value="" disabled selected>¿Destacado?</option>
                  <option value=1 <%=product.destacado==1 ? "selected" : "" %>>Sí</option>
                  <option value=0 <%=product.destacado==0 ? "selected" : "" %>>No</option>
                </select>
              </div>
              <!-- <div class="form-input">
                <label class="main-label" for="name"></label>
                <select class="border-5" type="text" name="name" placeholder="Tamaños" required >
                  <option>tam1</option>
                  <option>tam2</option>
                </select>
              </div> -->
              <div class="w-100">
                <button class="w-100 boton-filo tx-blanco bg-verde-musgo border-button" type="submit">Aceptar</button>
                <button class="w-100 boton-filo tx-verde-musgo border-button" type="reset">Cancelar</button>

              </div>
            </form>
          </div>
        </section>
      </main>

      <!--Acá va el footer-->
      <%- include ("partials/footer.ejs") %>
  </body>

</html>